(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/time-tracking-vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("e9c4");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("main",{staticClass:"main"},[a("page-wrapper",[a("time-tracker")],1)],1),a("icons",{ref:"iconsSprite"})],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticStyle:{display:"none"}},[a("symbol",{attrs:{id:"play"}},[a("svg",{attrs:{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M6 5.6085C6 4.03763 7.7279 3.07994 9.06 3.9125L19.2864 10.304C20.5397 11.0873 20.5397 12.9127 19.2864 13.696L9.06 20.0875C7.7279 20.9201 6 19.9624 6 18.3915V5.6085Z",fill:"currentColor"}})])]),a("symbol",{attrs:{id:"stop"}},[a("svg",{attrs:{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("rect",{attrs:{x:"4",y:"4",width:"16",height:"16",rx:"2",fill:"currentColor"}})])]),a("symbol",{attrs:{id:"delete"}},[a("svg",{attrs:{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 3L10 2H14L15 3H19C19.552 3 20 3.448 20 4C20 4.552 19.552 5 19 5H17H7H5C4.448 5 4 4.552 4 4C4 3.448 4.448 3 5 3H9ZM5 8C5 7.44772 5.44772 7 6 7H18C18.5523 7 19 7.44772 19 8V21C19 22.105 18.105 23 17 23H7C5.895 23 5 22.105 5 21V8ZM8 9C7.44772 9 7 9.44771 7 10V20C7 20.5523 7.44772 21 8 21H16C16.5523 21 17 20.5523 17 20V10C17 9.44772 16.5523 9 16 9H8Z",fill:"currentColor"}})])])])},o=[],c=a("2877"),l={},u=Object(c["a"])(l,i,o,!1,null,null,null),d=u.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"--shadowed"},[t._v(" HEADER ")])},p=[],v={name:"main-header",data:function(){return{}}},f=v,h=Object(c["a"])(f,m,p,!1,null,null,null),g=h.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navigation-menu --shadowed-right"},[t._v(" SIDE MENU ")])},_=[],k={name:"side-menu",data:function(){return{}}},y=k,C=Object(c["a"])(y,b,_,!1,null,null,null),O=C.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-wrapper"},[t._t("default")],2)},j=[],S={name:"page-wrapper",data:function(){return{}}},x=S,T=Object(c["a"])(x,w,j,!1,null,null,null),N=T.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time-tracker"},[a("tracker-input"),a("task-list")],1)},P=[],H=a("5530"),$=a("2f62"),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tracker-input"},[a("div",{staticClass:"tracker-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskName,expression:"taskName"}],staticClass:"t-input",attrs:{placeholder:"Чем займемся?"},domProps:{value:t.taskName},on:{input:function(e){e.target.composing||(t.taskName=e.target.value)}}})]),a("timer",{on:{onStop:t.saveTask}})],1)},M=[],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"timer"},[a("div",{staticClass:"timer__time"},[t._v(" "+t._s(t.timeString)+" ")]),a("div",{staticClass:"timer__button"},[t.processing?a("button",{staticClass:"icon-button rounded",on:{click:t.stop}},[a("Icon",{attrs:{value:"stop",size:24}})],1):a("button",{staticClass:"icon-button rounded",on:{click:t.start}},[a("Icon",{attrs:{value:"play",size:24}})],1)])])},B=[],L=(a("0d03"),a("6eba"),a("4795"),a("e25e"),a("99af"),{formatSecondsToTimeStr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=parseInt(t,10),a=Math.floor(e/3600),n=Math.floor((e-3600*a)/60),r=e-3600*a-60*n;return a<10&&(a="0".concat(a)),n<10&&(n="0".concat(n)),r<10&&(r="0".concat(r)),"".concat(a,":").concat(n,":").concat(r)}}),V={name:"timer",data:function(){return{seconds:0,timer:null,timestamp:null,start_date:null,end_date:null}},computed:{timeString:function(t){var e=t.seconds,a=void 0===e?0:e;return L.formatSecondsToTimeStr(a)},processing:function(t){var e=t.timer;return!!e}},methods:{tick:function(){this.seconds+=1},start:function(){this.start_date=new Date,this.timestamp=Date.now(),this.timer=setInterval(this.tick,1e3)},stop:function(){this.end_date=new Date,clearInterval(this.timer),this.sendResult(),this.timer=null,this.seconds=0,this.timestamp=null},getSeconds:function(t,e){return Math.floor((e.getTime()-t.getTime())/1e3)},sendResult:function(){var t=this.timestamp,e=this.start_date,a=this.end_date;this.$emit("onStop",{time:this.getSeconds(e,a),timestamp:t,start_date:e,end_date:a})}}},z=V,A=Object(c["a"])(z,D,B,!1,null,null,null),R=A.exports,U={name:"tracker-input",props:{value:{type:String,default:""}},components:{Timer:R},data:function(){return{taskName:""}},watch:{value:{handler:function(t){this.taskName=t},immediate:!0}},methods:Object(H["a"])(Object(H["a"])({},Object($["d"])(["addTask"])),{},{saveTask:function(t){this.addTask(Object(H["a"])(Object(H["a"])({},t),{},{task_name:this.taskName||""}))}})},J=U,Z=Object(c["a"])(J,I,M,!1,null,null,null),q=Z.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-list"},t._l(t.taskList,(function(e){return a("task-card",{key:e.date,attrs:{value:e}},[t._v(t._s(e))])})),1)},W=[],G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-card --shadowed"},[a("input",{staticClass:"t-input",attrs:{placeholder:"без названия"},domProps:{value:t.value.task_name},on:{change:t.handleNameChange}}),a("div",{staticClass:"task-card__date-time"},[a("p",{staticClass:"task-card__time pointer",on:{click:t.copyToClipboard}},[t._v(t._s(t.time))]),a("time-picker",{attrs:{value:[t.value.start_date,t.value.end_date]},on:{change:t.handlePeriodChange}},[t.timePeriod?a("p",{staticClass:"task-card__date pointer",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.timePeriod))]):t._e()])],1),a("button",{staticClass:"text-button remove-button",on:{click:t.handleRemoveBtnClick}},[a("icon",{attrs:{value:"delete",size:18}})],1)])},K=[],Q=a("b166"),X=a("3ab8"),Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time-picker"},[a("div",{on:{click:function(e){return e.stopPropagation(),t.show.apply(null,arguments)}}},[t._t("reference")],2),t.visible?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hide,expression:"hide"}],staticClass:"time-picker__popdown"},[a("div",{staticClass:"period"},[a("div",{staticClass:"period__input"},[a("label",[t._v("С")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.start,expression:"start"}],staticClass:"t-input",domProps:{value:t.start},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter.apply(null,arguments)},input:function(e){e.target.composing||(t.start=e.target.value)}}})]),a("div",{staticClass:"period__input"},[a("label",[t._v("По")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.end,expression:"end"}],staticClass:"t-input",domProps:{value:t.end},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter.apply(null,arguments)},input:function(e){e.target.composing||(t.end=e.target.value)}}})])])]):t._e()])},tt=[],et=(a("ac1f"),a("466d"),a("a9e3"),a("80c1")),at={name:"time-picker",props:{value:{type:[Date,Array],required:!0}},data:function(t){var e=t.value;return{visible:!1,datetime:e}},computed:{start:{get:function(t){var e=t.value;return Object(Q["a"])(e[0],"HH:mm")},set:function(t){var e=this.getTimeProps(t),a=e.hours,n=e.minutes,r=e.seconds,s=Object(et["a"])(this.value[0],{hours:a,minutes:n,seconds:r});this.$set(this.datetime,0,s)}},end:{get:function(t){var e=t.value;return Object(Q["a"])(e[1],"HH:mm")},set:function(t){var e=this.getTimeProps(t),a=e.hours,n=e.minutes,r=e.seconds,s=Object(et["a"])(this.value[1],{hours:a,minutes:n,seconds:r});this.$set(this.datetime,1,s)}}},methods:{show:function(){this.visible=!0},hide:function(){var t=0,e=Object(et["a"])(this.datetime[0],{seconds:t}),a=Object(et["a"])(this.datetime[1],{seconds:t});this.$emit("change",[e,a]),this.visible=!1},getTimeProps:function(t){var e=/([0-9]+):([0-9]+)/,a=t.match(e);return{hours:a?Number(a[1]):0,minutes:a?Number(a[2]):0,seconds:0}},onEnter:function(){this.hide()}}},nt=at,rt=(a("9a47"),Object(c["a"])(nt,Y,tt,!1,null,null,null)),st=rt.exports,it={name:"task-card",props:{value:{type:Object,required:!0}},components:{TimePicker:st},computed:{time:function(t){var e=t.value.time,a=void 0===e?0:e;return L.formatSecondsToTimeStr(a)},timePeriod:function(t){var e=t.value,a=e.start_date,n=e.end_date;return a&&n?"".concat(Object(Q["a"])(a,"HH:mm")," — ").concat(Object(Q["a"])(n,"HH:mm")):""}},methods:Object(H["a"])(Object(H["a"])({},Object($["b"])(["changeTaskValue","removeTask"])),{},{changeTaskName:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.value;this.changeTaskValue(Object(H["a"])(Object(H["a"])({},e),{},{task_name:t}))},handleNameChange:function(t){var e=t.target.value;this.changeTaskName(e)},copyToClipboard:function(){navigator.clipboard.writeText(this.time)},handleRemoveBtnClick:function(){var t=this.value;this.removeTask(t.timestamp)},handlePeriodChange:function(t){var e=this.value;this.changeTaskValue(Object(H["a"])(Object(H["a"])({},e),{},{time:Object(X["a"])(t[1],t[0])/1e3,start_date:t[0],end_date:t[1]}))}})},ot=it,ct=Object(c["a"])(ot,G,K,!1,null,null,null),lt=ct.exports,ut={name:"task-list",components:{TaskCard:lt},data:function(){return{taskName:""}},computed:Object(H["a"])({},Object($["c"])(["taskList"]))},dt=ut,mt=Object(c["a"])(dt,F,W,!1,null,null,null),pt=mt.exports,vt={name:"time-tracker",components:{TrackerInput:q,TaskList:pt},computed:Object(H["a"])({},Object($["c"])(["taskList"]))},ft=vt,ht=Object(c["a"])(ft,E,P,!1,null,null,null),gt=ht.exports,bt={name:"App",components:{icons:d,MainHeader:g,SideMenu:O,PageWrapper:N,TimeTracker:gt}},_t=bt,kt=Object(c["a"])(_t,r,s,!1,null,null,null),yt=kt.exports,Ct=(a("6861"),a("2909")),Ot=(a("c740"),a("a434"),a("d81d"),{namespaced:!0,state:{},getters:{},mutations:{},actions:{initialiseStore:function(t,e){t.state;var a=t.rootState;if(localStorage.getItem("storage")){var n=JSON.parse(localStorage.getItem("storage"));a.tasks=Object(Ct["a"])(n.tasks.map((function(t){return Object(H["a"])(Object(H["a"])({},t),{},{start_date:new Date(t.start_date),end_date:new Date(t.end_date)})})))}}}});n["a"].use($["a"]);var wt=new $["a"].Store({state:{tasks:[]},getters:{taskList:function(t){return t.tasks}},mutations:{addTask:function(t,e){t.tasks.unshift(e)},setTasks:function(t,e){t.tasks=Object(Ct["a"])(e)}},actions:{changeTaskValue:function(t,e){var a=t.commit,n=t.state,r=n.tasks,s=r.findIndex((function(t){return t.timestamp===e.timestamp}));r[s]=e,a("setTasks",r)},removeTask:function(t,e){var a=t.commit,n=t.state,r=n.tasks,s=r.findIndex((function(t){return t.timestamp===e}));r.splice(s,1),a("setTasks",r)}},modules:{storage:Ot}}),jt=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon",class:[t.className,t.bg?"icon_bg icon_bg_"+t.bg:"",{icon_pointer:t._events.click,icon_goback:"goBack"===t.type,icon_disabled:t.disabled}],style:t.getStyle,on:{click:function(e){return t.$emit("click")}}},["img"===t.type?a("img",{staticClass:"icon__inner",attrs:{src:t.getImgUrl(t.value)}}):"svg"===t.type?a("svg",{staticClass:"icon__inner",class:"icon__inner_"+t.value,attrs:{role:"img"}},[a("use",{attrs:{"xlink:href":"#"+t.value}})]):"icon"===t.type?a("i",{staticClass:"icon__inner",class:t.value}):"goBack"===t.type?a("i",{staticClass:"icon__inner el-icon-arrow-left",class:t.value}):"direction"===t.type?a("svg",{staticClass:"icon__inner",attrs:{role:"img",transform:"rotate(135) scale(1.2)"}},[a("use",{attrs:{"xlink:href":"#direction"}})]):t._e(),t.hasSlotData?a("div",{staticClass:"icon__slot"},[t._t("default")],2):t._e()])}),St=[],xt=(a("caad"),{name:"Icon",props:{value:{type:[String,Boolean],default:""},className:{type:[String,Array],default:""},type:{type:String,validator:function(t){return["svg","img","icon","empty","goBack","direction"].includes(t)},default:"svg"},bg:{type:String,validator:function(t){return["","circle","radius"].includes(t)},default:""},color:{type:String,default:""},bgColor:{type:String,default:""},rotate:{type:[Number,String],default:null},size:{type:[Number,String],default:""},disabled:{type:Boolean,default:!1}},computed:{getStyle:function(){var t="";this.color&&(t+="color:".concat(this.getColor(this.color),";")),this.bgColor&&(t+="background:".concat(this.getColor(this.bgColor),";")),this.size&&(t+="font-size:".concat(+this.size/10,"rem;"));var e="";return"direction"===this.type&&(e+="scale(1.187) "),(this.rotate||0===this.rotate)&&(e+="rotate(".concat(this.rotate,"deg) ")),e&&(t+="transform:".concat(e,";")),t},hasSlotData:function(){return!!this.$slots["default"]||!!this.$scopedSlots["default"]}},methods:{getImgUrl:function(t){var e=a("ed08");return e(t)},getColor:function(t){switch(t){case"black":return"#1B2028";case"black-hover":return"#16191f";case"grey":return"#767D88";case"grey-hover":return"#313640";case"dark":return"#363C46";case"dark-hover":return"#414954";case"back":return"#292f38";case"back-hover":return"#2B3038";case"light":return"#a5acb7";case"light-hover":return"#6f747e";case"primary":return"#F15B22";case"primary-hover":return"#c64f23";case"success":return"#4CD058";case"danger":return"#EA4C4C";case"danger-hover":return"#c14345";default:return t}}}}),Tt=xt,Nt=Object(c["a"])(Tt,jt,St,!1,null,null,null),Et=Nt.exports;n["a"].component(Et.name,Et);var Pt=new n["a"]({template:"<App/>",store:wt,render:function(t){return t(yt)},beforeCreate:function(){wt.dispatch("storage/initialiseStore",!0),wt.subscribe((function(t,e){localStorage.setItem("storage",JSON.stringify(e))}))}});n["a"].directive("click-outside",{bind:function(t,e,a){t.event=function(n){t===n.target||t.contains(n.target)||a.context[e.expression](n)},document.body.addEventListener("click",t.event)},unbind:function(t){document.body.removeEventListener("click",t.event)}}),Pt.$mount("#app")},6861:function(t,e,a){},"9a47":function(t,e,a){"use strict";a("ffb4")},ed08:function(t,e){function a(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id="ed08"},ffb4:function(t,e,a){}});
//# sourceMappingURL=app.1edfaeb7.js.map